<!DOCTYPE html>
<html lang="pl">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>Mapa pojazdów ZTM Poznań</title>
        <meta name="description" content="Mapa pojazdów ZTM Poznań">

        <link rel="icon" href="/favicon.ico">
        <link rel="apple-touch-icon" href="/icons/icon_x192.png" sizes="192x192">
        <meta name="theme-color" content="#004400">
    </head>
    <body>
        <div id="map"></div>

        <sl-dialog id="settings-dialog">
            <span slot="label">Ustawienia</span>
            <div>
                <sl-tab-group>
                    <sl-tab slot="nav" panel="general">
                        <sl-icon name="grid-3x3-gap-fill" class="mr-5"></sl-icon>
                        Ogólne
                    </sl-tab>
                    <sl-tab slot="nav" panel="debugging">
                        <sl-icon name="bug-fill" class="mr-5"></sl-icon>
                        Debugowanie
                    </sl-tab>
                    <sl-tab slot="nav" panel="about">
                        <sl-icon name="info-circle-fill" class="mr-5"></sl-icon>
                        O aplikacji
                    </sl-tab>
                    <sl-tab slot="nav" panel="acknowledgements">
                        <sl-icon name="gift-fill" class="mr-5"></sl-icon>
                        Podziękowania
                    </sl-tab>

                    <sl-tab-panel name="general">
                        <sl-select id="theme-select" pill label="Motyw" class="mb-10">
                            <sl-option value="system">Systemowy</sl-option>
                            <sl-option value="light">Jasny</sl-option>
                            <sl-option value="dark">Ciemny</sl-option>
                        </sl-select>

                        <sl-switch id="map-dark-theme-switch">Zastosuj ciemny motyw w mapie</sl-switch>
                    </sl-tab-panel>

                    <sl-tab-panel name="debugging">
                        <sl-alert variant="warning" open class="mb-10">
                            <sl-icon slot="icon" name="exclamation-triangle"></sl-icon>
                            <strong>Ustawienia przeznaczone do debugowania</strong><br />
                            Te ustawienia są przeznaczone do debugowania, ich zmiana w produkcyjnej wersji aplikacji może spowodować, że niektóre funkcje przestaną działać lub będą działać nieprawidłowo.
                        </sl-alert>

                        <sl-alert variant="warning" id="debug-options-changed" class="mb-10">
                            <sl-icon slot="icon" name="exclamation-triangle"></sl-icon>
                            <strong>Ustawienia przeznaczone do debugowania uległy zmianie</strong><br />
                            Aby zastosować zmianę tych ustawień należy odświeżyć stronę.<br>
                            <sl-button variant="primary" outline class="refresh-website mt-10">
                                <sl-icon slot="prefix" name="arrow-clockwise"></sl-icon>
                                Odśwież
                            </sl-button>
                        </sl-alert>

                        <div class="mb-10">
                            <sl-switch id="disable-vehicle-position-updates-switch" class="debug-option">
                                Wyłącz aktualizację pozycji pojazdów
                            </sl-switch>
                        </div>
                        <div>
                            <sl-switch id="do-not-block-map-when-loading-switch" class="debug-option">
                                Nie blokuj mapy podczas ładowania aplikacji
                            </sl-switch>
                        </div>
                    </sl-tab-panel>

                    <sl-tab-panel name="about">
                        <div id="app-name" class="t-30"><span id="app-name-placeholder"></span></div>
                        <div id="app-description"><span id="app-description-placeholder"></span></div>
                        <div id="app-author"><span>Autor:</span> <span id="app-author-placeholder"></span></div>
                        <div id="app-version"><span>Wersja:</span> <span id="app-version-placeholder"></span></div>
                        <div id="app-commit"><span>Commit hash:</span> <span id="app-commit-placeholder"></span> <span id="app-modified-placeholder"></span></div>
                        <div id="app-license"><span>Licencja:</span> <a id="app-license-link" target="_blank" rel="noopener"></a></div>

                        <sl-button id="app-repo-link" target="_blank" size="small">
                            <sl-icon slot="prefix" name="github"></sl-icon>
                            Repozytorium GitHub
                        </sl-button>
                        <sl-button id="app-issues-link" target="_blank" size="small">
                            <sl-icon slot="prefix" name="bug-fill"></sl-icon>
                            Problemy i sugestie
                        </sl-button>
                        <sl-button id="app-changelog-link" target="_blank" size="small">
                            <sl-icon slot="prefix" name="clock"></sl-icon>
                            Rejestr zmian
                        </sl-button>
                    </sl-tab-panel>

                    <sl-tab-panel name="acknowledgements">
                        <div class="t-30">API i źródła danych</div>
                        <ul>
                            <li><a href="https://www.ztm.poznan.pl/otwarte-dane/dla-deweloperow/" target="_blank" rel="noopener">ZTM Poznań</a> - GTFS Realtime i GTFS Schedule</li>
                            <li><a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener">OpenStreetMap</a></li>
                        </ul>

                        <div class="t-30">Biblioteki (zależności)</div>
                        <div class="t-20">Python (pip)</div>
                        <ul id="python-dependencies"></ul>
                        <div class="t-20">Node.js (npm)</div>
                        <ul id="node-dependencies"></ul>
                    </sl-tab-panel>
                </sl-tab-group>
            </div>
        </sl-dialog>

        <script type="module" src="/src/main.js"></script>
    </body>
</html>
